{
  "entities": {
    "Property": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Property",
      "type": "object",
      "description": "Represents a real estate property for sale or rent.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Property entity."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who owns this property."
        },
        "categoryId": {
          "type": "string",
          "description": "Reference to Category. (Relationship: Category 1:N Property)"
        },
        "title": {
          "type": "string",
          "description": "Title of the property listing."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the property."
        },
        "price": {
          "type": "number",
          "description": "Price of the property."
        },
        "imageUrls": {
          "type": "array",
          "description": "URLs of images associated with the property.",
          "items": {
            "type": "string"
          }
        },
        "contactInformation": {
          "type": "string",
          "description": "Contact information for inquiries about the property."
        },
        "roadProximity": {
          "type": "string",
          "description": "Description of the property's proximity to nearby roads. Values such as near, medium, far.",
          "format": "string"
        }
      },
      "required": [
        "id",
        "ownerId",
        "categoryId",
        "title",
        "description",
        "price",
        "imageUrls",
        "contactInformation",
        "roadProximity"
      ]
    },
    "Category": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Category",
      "type": "object",
      "description": "Represents a category of real estate properties (e.g., plots, flats).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Category entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the property category (e.g., Plot, Flat)."
        },
        "description": {
          "type": "string",
          "description": "Description of the property category."
        }
      },
      "required": [
        "id",
        "name",
        "description"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/categories/{categoryId}",
        "definition": {
          "entityName": "Category",
          "schema": {
            "$ref": "#/backend/entities/Category"
          },
          "description": "Stores real estate categories (e.g., plots, flats).",
          "params": [
            {
              "name": "categoryId",
              "description": "Unique identifier for the category."
            }
          ]
        }
      },
      {
        "path": "/properties/{propertyId}",
        "definition": {
          "entityName": "Property",
          "schema": {
            "$ref": "#/backend/entities/Property"
          },
          "description": "Stores real estate properties, including details like location, price, and images.",
          "params": [
            {
              "name": "propertyId",
              "description": "Unique identifier for the property."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore data structure is designed to manage real estate properties and their categories. It prioritizes authorization independence and supports secure list operations (QAPs). Authorization Independence is achieved by making all data publicly accessible. This approach simplifies security rules and eliminates the need for complex hierarchical permissions. The structure uses Structural Segregation, placing categories and properties in separate collections to simplify security postures and improve query performance. The use of explicit IDs for each document will enable a flat data structure that facilitates scalable queries, especially when combined with indexing strategies appropriate to the envisioned user queries. Since all properties are considered public, we don't need any membership map or private access control."
  }
}
