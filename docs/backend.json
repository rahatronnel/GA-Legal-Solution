
{
  "entities": {
    "OrganizationSettings": {
      "title": "Organization Settings",
      "type": "object",
      "description": "A singleton entity to store application-wide organization settings.",
      "properties": {
        "name": { "type": "string", "description": "The name of the organization." },
        "slogan": { "type": "string", "description": "The organization's slogan." },
        "address": { "type": "string", "description": "The physical address of the organization." },
        "contactNumber": { "type": "string", "description": "Primary contact phone number." },
        "telephone": { "type": "string", "description": "Secondary telephone number." },
        "email": { "type": "string", "format": "email", "description": "Contact email address." },
        "fax": { "type": "string", "description": "Fax number." },
        "registrationNumber": { "type": "string", "description": "Official registration number." },
        "logo": { "type": "string", "description": "Data URL of the organization's logo." }
      },
      "required": ["name", "email"]
    },
    "Section": {
      "title": "Section",
      "type": "object",
      "description": "Represents a department or section within the organization.",
      "properties": {
        "name": { "type": "string", "description": "The name of the section." },
        "sectionCode": { "type": "string", "description": "The unique code for the section." }
      },
      "required": ["name", "sectionCode"]
    },
    "Designation": {
      "title": "Designation",
      "type": "object",
      "description": "Represents a job title or designation for an employee.",
      "properties": {
        "name": { "type": "string", "description": "The name of the designation." },
        "designationCode": { "type": "string", "description": "The unique code for the designation." }
      },
      "required": ["name", "designationCode"]
    },
    "Employee": {
      "title": "Employee",
      "type": "object",
      "description": "Represents an employee in the organization.",
      "properties": {
        "userIdCode": { "type": "string" },
        "fullName": { "type": "string" },
        "mobileNumber": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "role": { "type": "string", "enum": ["Admin", "Operator", "Driver", "Viewer"] },
        "status": { "type": "string", "enum": ["Active", "Inactive"] },
        "username": { "type": "string" },
        "departmentId": { "type": "string" },
        "designationId": { "type": "string" },
        "joiningDate": { "type": "string", "format": "date" },
        "address": { "type": "string" },
        "remarks": { "type": "string" },
        "profilePicture": { "type": "string", "description": "Data URL of the profile picture." },
        "signature": { "type": "string", "description": "Data URL of the employee's signature." },
        "documents": {
          "type": "object",
          "properties": {
            "nid": { "type": "string", "description": "Data URL of the NID document." },
            "other": { "type": "string", "description": "Data URL of the other document." }
          }
        },
        "defaultPassword": { "type": "string", "description": "Default password for the new user." }
      },
      "required": ["userIdCode", "fullName", "mobileNumber", "username", "role", "status", "email"]
    },
    "VehicleType": {
      "title": "Vehicle Type", "type": "object", "description": "Defines a type or category of a vehicle.",
      "properties": { "name": { "type": "string" }, "vehicleTypeCode": { "type": "string" } }, "required": ["name", "vehicleTypeCode"]
    },
    "VehicleBrand": {
      "title": "Vehicle Brand", "type": "object", "description": "Defines a vehicle brand.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "Location": {
      "title": "Location", "type": "object", "description": "Defines a geographic location.",
      "properties": { "name": { "type": "string" }, "locationCode": { "type": "string" } }, "required": ["name", "locationCode"]
    },
    "Route": {
      "title": "Route", "type": "object", "description": "Defines a route between two locations.",
      "properties": { "name": { "type": "string" }, "routeCode": { "type": "string" }, "startLocationId": { "type": "string" }, "endLocationId": { "type": "string" } }, "required": ["name", "routeCode", "startLocationId", "endLocationId"]
    },
    "TripPurpose": {
      "title": "Trip Purpose", "type": "object", "description": "Defines a purpose for a vehicle trip.",
      "properties": { "name": { "type": "string" } }, "required": ["name"]
    },
    "ExpenseType": {
      "title": "Expense Type", "type": "object", "description": "Defines a type of expense.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "MaintenanceType": {
      "title": "Maintenance Type", "type": "object", "description": "Defines a type of maintenance.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "MaintenanceExpenseType": {
      "title": "Maintenance Expense Type", "type": "object", "description": "Defines a type of expense for maintenance.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "Part": {
      "title": "Part", "type": "object", "description": "Defines a vehicle part.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" }, "brand": { "type": "string" }, "price": { "type": "number" } }, "required": ["name", "code"]
    },
    "ServiceCenter": {
      "title": "Service Center", "type": "object", "description": "Defines a service center or garage.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" }, "address": { "type": "string" }, "mobileNumber": { "type": "string" }, "ownerName": { "type": "string" } }, "required": ["name", "code"]
    },
    "AccidentType": {
      "title": "Accident Type", "type": "object", "description": "Defines a type of accident.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "SeverityLevel": {
      "title": "Severity Level", "type": "object", "description": "Defines a severity level for accidents.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "FaultStatus": {
      "title": "Fault Status", "type": "object", "description": "Defines the fault status of an accident.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } }, "required": ["name", "code"]
    },
    "VendorCategory": {
      "title": "Vendor Category",
      "type": "object",
      "description": "Defines a category for a vendor or supplier.",
      "properties": {
        "name": { "type": "string", "description": "The name of the category." },
        "code": { "type": "string", "description": "The unique code for the category." }
      },
      "required": ["name", "code"]
    },
    "VendorNatureOfBusiness": {
      "title": "Vendor Nature of Business",
      "type": "object",
      "description": "Defines the nature of a vendor's business.",
      "properties": {
        "name": { "type": "string", "description": "The nature of business." },
        "code": { "type": "string", "description": "The unique code for the nature of business." }
      },
      "required": ["name", "code"]
    },
    "Vendor": {
      "title": "Vendor",
      "type": "object",
      "description": "Represents a vendor or supplier for the BillFlow module.",
      "properties": {
        "vendorId": { "type": "string" },
        "vendorName": { "type": "string" },
        "vendorShortName": { "type": "string" },
        "vendorType": { "type": "string", "enum": ["Individual", "Company"] },
        "vendorCategoryId": { "type": "string" },
        "vendorSubCategory": { "type": "string" },
        "natureOfBusinessId": { "type": "string" },
        "yearsOfExperience": { "type": "number" },
        "contactPersonName": { "type": "string" },
        "contactPersonDesignation": { "type": "string" },
        "mobileNumber": { "type": "string" },
        "alternateMobileNumber": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "officePhone": { "type": "string" },
        "whatsAppNumber": { "type": "string" },
        "officeAddress": { "type": "string" },
        "factoryAddress": { "type": "string" },
        "country": { "type": "string" },
        "city": { "type": "string" },
        "tradeLicenseNumber": { "type": "string" },
        "tradeLicenseExpiryDate": { "type": "string", "format": "date" },
        "tinNumber": { "type": "string" },
        "vatBinNumber": { "type": "string" },
        "nidOrCompanyRegNumber": { "type": "string" },
        "incorporationDate": { "type": "string", "format": "date" },
        "bankName": { "type": "string" },
        "branchName": { "type": "string" },
        "accountName": { "type": "string" },
        "accountNumber": { "type": "string" },
        "routingNumber": { "type": "string" },
        "paymentMethod": { "type": "string", "enum": ["Bank", "Cheque", "Mobile Banking"] },
        "mobileBankingProvider": { "type": "string" },
        "contractStartDate": { "type": "string", "format": "date" },
        "contractEndDate": { "type": "string", "format": "date" },
        "paymentTerms": { "type": "string" },
        "creditLimit": { "type": "number" },
        "currency": { "type": "string" },
        "taxDeductionApplicable": { "type": "boolean" },
        "vatApplicable": { "type": "boolean" },
        "suppliedItems": { "type": "array", "items": { "$ref": "#/entities/SuppliedItem" } },
        "documents": {
          "type": "object",
          "properties": {
            "tradeLicense": { "type": "string" },
            "bankChequeCopy": { "type": "string" },
            "contractAgreement": { "type": "string" },
            "vatCertificate": { "type": "string" },
            "complianceCertificates": { "type": "string" },
            "other": { "type": "string" }
          }
        },
        "loginId": { "type": "string" },
        "password": { "type": "string" },
        "createdBy": { "type": "string" },
        "createdDate": { "type": "string", "format": "date-time" },
        "lastUpdatedBy": { "type": "string" },
        "vendorStatus": { "type": "string", "enum": ["Pending", "Active", "Suspended", "Blacklisted"] },
        "approvedBy": { "type": "string" },
        "approvalDate": { "type": "string", "format": "date" },
        "reviewFrequency": { "type": "string" },
        "riskLevel": { "type": "string", "enum": ["Low", "Medium", "High"] }
      },
      "required": ["vendorId", "vendorName", "vendorType", "vendorCategoryId", "email"]
    },
    "SuppliedItem": {
      "title": "Supplied Item/Service",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "unitOfMeasure": { "type": "string" },
        "rate": { "type": "number" },
        "minOrderQuantity": { "type": "number" },
        "leadTimeDays": { "type": "number" },
        "deliveryLocation": { "type": "string" },
        "deliveryFrequency": { "type": "string" }
      },
      "required": ["id", "name", "rate"]
    },
    "BillType": {
      "title": "Bill Type",
      "type": "object",
      "description": "Defines a type for a bill.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } },
      "required": ["name", "code"]
    },
    "BillCategory": {
      "title": "Bill Category",
      "type": "object",
      "description": "Defines a category for a bill.",
      "properties": { "name": { "type": "string" }, "code": { "type": "string" } },
      "required": ["name", "code"]
    },
    "BillItem": {
      "title": "Bill Item",
      "type": "object",
      "description": "Represents a single line item in a bill.",
      "properties": {
        "name": { "type": "string" },
        "billItemCategoryId": { "type": "string" },
        "description": { "type": "string" },
        "unitOfMeasure": { "type": "string" },
        "quantity": { "type": "number" },
        "unitPrice": { "type": "number" },
        "grossAmount": { "type": "number" },
        "discountAmount": { "type": "number" },
        "netAmount": { "type": "number" }
      },
      "required": ["name", "quantity", "unitPrice", "grossAmount"]
    },
    "Bill": {
      "title": "Bill",
      "type": "object",
      "description": "Represents a single bill or invoice for payment processing.",
      "properties": {
        "billId": { "type": "string" },
        "billReferenceNumber": { "type": "string" },
        "vendorId": { "type": "string" },
        "billTypeId": { "type": "string" },
        "billCategoryId": { "type": "string" },
        "billSubCategory": { "type": "string" },
        "billDate": { "type": "string", "format": "date" },
        "billReceivedDate": { "type": "string", "format": "date" },
        "entryDate": { "type": "string", "format": "date-time" },
        "entryBy": { "type": "string" },
        "items": { "type": "array", "items": { "$ref": "#/entities/BillItem" } },
        "vatApplicable": { "type": "boolean" },
        "vatPercentage": { "type": "number" },
        "vatAmount": { "type": "number" },
        "tdsApplicable": { "type": "boolean" },
        "tdsPercentage": { "type": "number" },
        "tdsAmount": { "type": "number" },
        "otherCharges": { "type": "number" },
        "deductionAmount": { "type": "number" },
        "totalPayableAmount": { "type": "number" },
        "billingPeriodFrom": { "type": "string", "format": "date" },
        "billingPeriodTo": { "type": "string", "format": "date" },
        "poNumber": { "type": "string" },
        "woNumber": { "type": "string" },
        "grnNumber": { "type": "string" },
        "gatePassNumber": { "type": "string" },
        "invoiceNumber": { "type": "string" },
        "invoiceDate": { "type": "string", "format": "date" },
        "departmentCode": { "type": "string" },
        "departmentName": { "type": "string" },
        "costCenter": { "type": "string" },
        "project": { "type": "string" },
        "machineNumber": { "type": "string" },
        "budgetHead": { "type": "string" },
        "budgetRef": { "type": "string" },
        "documents": {
          "type": "object",
          "properties": {
            "vendorInvoice": { "type": "string" },
            "deliveryChallan": { "type": "string" },
            "workCompletionCert": { "type": "string" },
            "poCopy": { "type": "string" },
            "contractCopy": { "type": "string" },
            "supportingDocs": { "type": "string" },
            "remarksDoc": { "type": "string" }
          }
        }
      },
      "required": ["billId", "vendorId", "billTypeId", "billDate", "totalPayableAmount"]
    },
    "BillItemCategory": {
      "title": "Bill Item Category",
      "type": "object",
      "description": "Defines a category for a billable item.",
      "properties": {
        "name": { "type": "string" },
        "code": { "type": "string" }
      },
      "required": ["name", "code"]
    },
    "BillItemMaster": {
      "title": "Bill Item Master",
      "type": "object",
      "description": "Master data for billable items and services.",
      "properties": {
        "name": { "type": "string" },
        "billItemCategoryId": { "type": "string" },
        "description": { "type": "string" },
        "unitOfMeasure": { "type": "string" },
        "unitPrice": { "type": "number" }
      },
      "required": ["name", "billItemCategoryId", "unitPrice"]
    },
    "ApprovalRule": {
        "title": "Approval Rule",
        "type": "object",
        "description": "Defines a rule for bill approval workflows.",
        "properties": {
          "name": { "type": "string", "description": "The name of the rule (e.g., 'Standard Bills')." },
          "minAmount": { "type": "number", "description": "Minimum bill amount for this rule to apply." },
          "maxAmount": { "type": "number", "description": "Maximum bill amount for this rule to apply." },
          "approverLevels": {
            "type": "array",
            "description": "An ordered list of approvers and escalation policies for this rule.",
            "items": {
              "type": "object",
              "properties": {
                "level": { "type": "number", "description": "The approval level (e.g., 1, 2, 3)." },
                "approverId": { "type": "string", "description": "The ID of the primary employee who needs to approve." },
                "escalationTimeoutDays": { "type": "number", "description": "Number of days before escalating to an alternative approver." },
                "alternativeApprovers": {
                  "type": "array",
                  "description": "An ordered list of alternative approver employee IDs.",
                  "items": { "type": "string" }
                }
              },
              "required": ["level", "approverId"]
            }
          }
        },
        "required": ["name", "minAmount", "maxAmount", "approverLevels"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/settings/organization": { "schema": { "$ref": "#/entities/OrganizationSettings" }, "description": "Stores the single, global configuration for the organization." },
    "/sections/{sectionId}": { "schema": { "$ref": "#/entities/Section" }, "description": "Stores organization sections or departments." },
    "/designations/{designationId}": { "schema": { "$ref": "#/entities/Designation" }, "description": "Stores job titles and designations." },
    "/employees/{employeeId}": { "schema": { "$ref": "#/entities/Employee" }, "description": "Stores employee profiles." },
    "/vehicleTypes/{vehicleTypeId}": { "schema": { "$ref": "#/entities/VehicleType" }, "description": "Stores vehicle categories." },
    "/vehicleBrands/{vehicleBrandId}": { "schema": { "$ref": "#/entities/VehicleBrand" }, "description": "Stores vehicle brands." },
    "/locations/{locationId}": { "schema": { "$ref": "#/entities/Location" }, "description": "Stores geographic locations." },
    "/routes/{routeId}": { "schema": { "$ref": "#/entities/Route" }, "description": "Stores routes between locations." },
    "/tripPurposes/{tripPurposeId}": { "schema": { "$ref": "#/entities/TripPurpose" }, "description": "Stores purposes for vehicle trips." },
    "/expenseTypes/{expenseTypeId}": { "schema": { "$ref": "#/entities/ExpenseType" }, "description": "Stores types of expenses." },
    "/maintenanceTypes/{maintenanceTypeId}": { "schema": { "$ref": "#/entities/MaintenanceType" }, "description": "Stores types of maintenance." },
    "/maintenanceExpenseTypes/{maintenanceExpenseTypeId}": { "schema": { "$ref": "#/entities/MaintenanceExpenseType" }, "description": "Stores types of expenses for maintenance." },
    "/parts/{partId}": { "schema": { "$ref": "#/entities/Part" }, "description": "Stores vehicle parts." },
    "/serviceCenters/{serviceCenterId}": { "schema": { "$ref": "#/entities/ServiceCenter" }, "description": "Stores service centers or garages." },
    "/accidentTypes/{accidentTypeId}": { "schema": { "$ref": "#/entities/AccidentType" }, "description": "Stores types of accidents." },
    "/severityLevels/{severityLevelId}": { "schema": { "$ref": "#/entities/SeverityLevel" }, "description": "Stores severity levels for accidents." },
    "/faultStatuses/{faultStatusId}": { "schema": { "$ref": "#/entities/FaultStatus" }, "description": "Stores fault statuses of accidents." },
    "/vendorCategories/{vendorCategoryId}": { "schema": { "$ref": "#/entities/VendorCategory" }, "description": "Stores vendor categories for the BillFlow module." },
    "/vendorNatureOfBusiness/{vendorNatureOfBusinessId}": { "schema": { "$ref": "#/entities/VendorNatureOfBusiness" }, "description": "Stores the nature of business for vendors." },
    "/vendors/{vendorId}": { "schema": { "$ref": "#/entities/Vendor" }, "description": "Stores vendor profiles for the BillFlow module." },
    "/billTypes/{billTypeId}": { "schema": { "$ref": "#/entities/BillType" }, "description": "Stores master list of bill types." },
    "/billCategories/{billCategoryId}": { "schema": { "$ref": "#/entities/BillCategory" }, "description": "Stores master list of bill categories." },
    "/bills/{billId}": { "schema": { "$ref": "#/entities/Bill" }, "description": "Stores all submitted bills." },
    "/billItemCategories/{billItemCategoryId}": { "schema": { "$ref": "#/entities/BillItemCategory" }, "description": "Stores categories for billable items." },
    "/billItemMasters/{billItemMasterId}": { "schema": { "$ref": "#/entities/BillItemMaster" }, "description": "Stores the master list of billable items and services." },
    "/approvalRules/{ruleId}": { "schema": { "$ref": "#/entities/ApprovalRule" }, "description": "Stores the rules for bill approval workflows." }
  }
}
