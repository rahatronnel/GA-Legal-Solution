
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // -------------------------------------------------------------------------
    // Helper Functions
    // -------------------------------------------------------------------------
    function isAuthenticated() {
        return request.auth != null;
    }

    // -------------------------------------------------------------------------
    // Singleton & Public Master Data
    // These collections contain general configuration or master list data.
    // It's safe for anyone to read this data, but only authenticated
    // users can make changes.
    // -------------------------------------------------------------------------
    match /{document=**} {
      allow read: if true;
    }

    match /settings/{docId} {
        allow write: if isAuthenticated();
    }
    match /vehicleTypes/{docId} {
        allow write: if isAuthenticated();
    }
    match /vehicleBrands/{docId} {
      allow write: if isAuthenticated();
    }
    match /locations/{docId} {
      allow write: if isAuthenticated();
    }
    match /routes/{docId} {
      allow write: if isAuthenticated();
    }
    match /tripPurposes/{docId} {
      allow write: if isAuthenticated();
    }
    match /expenseTypes/{docId} {
      allow write: if isAuthenticated();
    }
    match /maintenanceTypes/{docId} {
      allow write: if isAuthenticated();
    }
    match /maintenanceExpenseTypes/{docId} {
      allow write: if isAuthenticated();
    }
    match /parts/{docId} {
      allow write: if isAuthenticated();
    }
    match /serviceCenters/{docId} {
      allow write: if isAuthenticated();
    }
    match /accidentTypes/{docId} {
      allow write: if isAuthenticated();
    }
    match /severityLevels/{docId} {
      allow write: if isAuthenticated();
    }
    match /faultStatuses/{docId} {
      allow write: if isAuthenticated();
    }
    match /vendorCategories/{docId} {
      allow write: if isAuthenticated();
    }
    match /vendorNatureOfBusiness/{docId} {
      allow write: if isAuthenticated();
    }
    match /billTypes/{docId} {
      allow write: if isAuthenticated();
    }
    match /billCategories/{docId} {
      allow write: if isAuthenticated();
    }
    match /billItemCategories/{docId} {
        allow write: if isAuthenticated();
    }
    match /billItemMasters/{docId} {
      allow write: if isAuthenticated();
    }

    // -------------------------------------------------------------------------
    // Protected User & Operational Data
    // Write access is protected, but read access is public to prevent
    // initial load errors.
    // -------------------------------------------------------------------------
    match /sections/{docId} {
      allow write: if isAuthenticated();
    }
    match /designations/{docId} {
      allow write: if isAuthenticated();
    }
    match /employees/{docId} {
      allow write: if isAuthenticated();
    }
    match /vehicles/{docId} {
      allow write: if isAuthenticated();
    }
     match /drivers/{docId} {
      allow write: if isAuthenticated();
    }
     match /trips/{docId} {
      allow write: if isAuthenticated();
    }
    match /maintenanceRecords/{docId} {
      allow write: if isAuthenticated();
    }
     match /accidents/{docId} {
      allow write: if isAuthenticated();
    }
    match /vendors/{docId} {
      allow write: if isAuthenticated();
    }
    match /bills/{docId} {
      allow write: if isAuthenticated();
    }
  }
}
