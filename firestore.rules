
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // -------------------------------------------------------------------------
    // Helper Functions
    // -------------------------------------------------------------------------
    function isAuthenticated() {
        return request.auth != null;
    }

    // -------------------------------------------------------------------------
    // Singleton & Public Master Data
    // These collections contain general configuration or master list data.
    // It's safe for anyone to read this data, but only authenticated
    // users can make changes.
    // -------------------------------------------------------------------------
    match /settings/{docId} {
        allow read: if true;
        allow write: if isAuthenticated();
    }
    match /vehicleTypes/{docId} {
        allow read: if true;
        allow write: if isAuthenticated();
    }
    match /vehicleBrands/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /locations/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /routes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /tripPurposes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /expenseTypes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /maintenanceTypes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /maintenanceExpenseTypes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /parts/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /serviceCenters/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /accidentTypes/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /severityLevels/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /faultStatuses/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }
    match /vendorCategories/{docId} {
      allow read: if true;
      allow write: if isAuthenticated();
    }

    // -------------------------------------------------------------------------
    // Protected User & Operational Data
    // All of these collections require the user to be authenticated for
    // any read or write operations.
    // -------------------------------------------------------------------------
    match /sections/{docId} {
      allow read, write: if isAuthenticated();
    }
    match /designations/{docId} {
      allow read, write: if isAuthenticated();
    }
    match /employees/{docId} {
      allow read, write: if isAuthenticated();
    }
    match /vehicles/{docId} {
      allow read, write: if isAuthenticated();
    }
     match /drivers/{docId} {
      allow read, write: if isAuthenticated();
    }
     match /trips/{docId} {
      allow read, write: if isAuthenticated();
    }
    match /maintenanceRecords/{docId} {
      allow read, write: if isAuthenticated();
    }
     match /accidents/{docId} {
      allow read, write: if isAuthenticated();
    }
  }
}
